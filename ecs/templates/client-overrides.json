{
  "containerOverrides": [
    {
      "name": "omes-client",
      "environment": [
        { "name": "ECS_CLUSTER", "value": "${ECS_CLUSTER}" },
        { "name": "AWS_REGION", "value": "${AWS_REGION}" },
        { "name": "WORKER_TASK_ARN", "value": "${WORKER_TASK_ARN}" },
        { "name": "WORKER_METRICS_HOST", "value": "${WORKER_IP}" },
        { "name": "WORKER_METRICS_PORT", "value": "9092" },
        { "name": "LANGUAGE", "value": "${LANGUAGE}" },
        { "name": "RUN_ID", "value": "${RUN_ID}" },
        { "name": "IS_EXPERIMENT", "value": "${IS_EXPERIMENT}" },
        { "name": "S3_BUCKET_URI", "value": "${S3_BUCKET_URI}" }
      ],
      "command": [
        "run-scenario",
        "--server-address", "${TEMPORAL_ADDRESS}",
        "--namespace", "${TEMPORAL_NAMESPACE}",
        "--tls",
        "--auth-header", "Bearer ${TEMPORAL_API_KEY}",
        "--scenario", "${SCENARIO}",
        "--run-id", "${RUN_ID}",
        "--duration", "${DURATION}",
        "--timeout", "${TIMEOUT}",
        "--max-concurrent", "${MAX_CONCURRENT}",
        "--prom-listen-address", "0.0.0.0:9091",
        "--prom-instance-addr", "0.0.0.0:9090",
        "--prom-instance-config", "/app/prom-config.yml",
        "--prom-export-worker-metrics", "/app/metrics/${LANGUAGE}-${SCENARIO}-${RUN_ID}.parquet",
        "--prom-export-metrics-step", "3s",
        "--do-not-register-search-attributes", "true"
      ]
    }
  ]
}